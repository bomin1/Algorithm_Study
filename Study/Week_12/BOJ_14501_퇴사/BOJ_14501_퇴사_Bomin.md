# 14501_퇴사



## 문제

상담원으로 일하고 있는 백준이는 퇴사를 하려고 한다.

오늘부터 N+1일째 되는 날 퇴사를 하기 위해서, 남은 N일 동안 최대한 많은 상담을 하려고 한다.

백준이는 비서에게 최대한 많은 상담을 잡으라고 부탁을 했고, 비서는 하루에 하나씩 서로 다른 사람의 상담을 잡아놓았다.

각각의 상담은 상담을 완료하는데 걸리는 기간 Ti와 상담을 했을 때 받을 수 있는 금액 Pi로 이루어져 있다.

N = 7인 경우에 다음과 같은 상담 일정표를 보자.

|      | 1일  | 2일  | 3일  | 4일  | 5일  | 6일  | 7일  |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| T    | 3    | 5    | 1    | 1    | 2    | 4    | 2    |
| P    | 10   | 20   | 10   | 20   | 15   | 40   | 200  |

1일에 잡혀있는 상담은 총 3일이 걸리며, 상담했을 때 받을 수 있는 금액은 10이다. 5일에 잡혀있는 상담은 총 2일이 걸리며, 받을 수 있는 금액은 15이다.

상담을 하는데 필요한 기간은 1일보다 클 수 있기 때문에, 모든 상담을 할 수는 없다. 예를 들어서 1일에 상담을 하게 되면, 2일, 3일에 있는 상담은 할 수 없게 된다. 2일에 있는 상담을 하게 되면, 3, 4, 5, 6일에 잡혀있는 상담은 할 수 없다.

또한, N+1일째에는 회사에 없기 때문에, 6, 7일에 있는 상담을 할 수 없다.

퇴사 전에 할 수 있는 상담의 최대 이익은 1일, 4일, 5일에 있는 상담을 하는 것이며, 이때의 이익은 10+20+15=45이다.

상담을 적절히 했을 때, 백준이가 얻을 수 있는 최대 수익을 구하는 프로그램을 작성하시오.



## 입력

첫째 줄에 N (1 ≤ N ≤ 15)이 주어진다.

둘째 줄부터 N개의 줄에 Ti와 Pi가 공백으로 구분되어서 주어지며, 1일부터 N일까지 순서대로 주어진다. (1 ≤ Ti ≤ 5, 1 ≤ Pi ≤ 1,000)



## 출력

첫째 줄에 백준이가 얻을 수 있는 최대 이익을 출력한다.

<br>

---

## Input

```txt
4
7
3 10
5 20
1 10
1 20
2 15
4 40
2 200
10
1 1
1 2
1 3
1 4
1 5
1 6
1 7
1 8
1 9
1 10
10
5 10
5 9
5 8
5 7
5 6
5 10
5 9
5 8
5 7
5 6
10
5 50
4 40
3 30
2 20
1 10
1 10
2 20
3 30
4 40
5 50
```

## Output

```
45
55
20
90
```

<br>

---

## Code

```python
import sys
sys.stdin = open("input.txt")

T=int(input())
for tc in range(1, 1+T):
    n = int(input())
    t = []
    p = []
    res = [0 for i in range(n+1)]

    for i in range(n):
        x,y = map(int, input().split())
        t.append(x)
        p.append(y)

    for i in range(n-1,-1,-1):
        if i + t[i] > n:
            res[i] = res[i+1]
        else:
            res[i] = max(res[i+1], p[i] + res[i+t[i]])

    print(res[0])
```



## Review

|      | 1일  | 2일  | 3일  | 4일  | 5일  | 6일  | 7일  |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| T    | 3    | 5    | 1    | 1    | 2    | 4    | 2    |
| P    | 10   | 20   | 10   | 20   | 15   | 40   | 200  |
| res  | 45   | 45   | 45   | 35   | 15   | 0    | 0    |

```
T : 걸리는 기간
P : 받을 수 있는 금액
```

1. 앞에서 부터 보려니까 너무 경우의 수가 많아서 뒤부터 보는게 앞보다는 경우의수가 적을거라고 생각했다.

2. 뒤에서부터 돌건데 그럼 7일인 상태에서 2일이 걸리는 일이 있다?? 이건 할수가 없는 일.

   6일째 되는 날도 4일이 걸리는 일을 처리할 수가 없으니까 그냥 갱신 없이 7일꺼 값을 그대로 가져옴

   ---> 

           if i + t[i] > n:
               res[i] = res[i+1]

   5일째 되는 날은 2일동안 일을 할 수 있고 돈을 벌 수 있으므로 res값을 갱신해준다

   문제가 되는 날은 2일째가 되는 날인데

   경우가 2가지로 나뉜다.

   1. 2일째 꺼 일하고 그다음 7일꺼 일을 하던지

   2. 2일째꺼 일 안하고 넘어가던지

      이 둘중에 큰 값을 정해서 그 큰 값을 res값에 넣어주면 되니까

   ---> 

           else:
               res[i] = max(res[i+1], p[i] + res[i+t[i]])

   이 코드에서 

   ```python
   res[i] = max(res[i+1], p[i] + res[i+t[i]])
   ```

   예를들어 i=2라고 했을 때, 

   1. res[3] 값 = 계속 더해줘서 가져온 값 이랑

   2. p[2] (오늘 일해서 벌 수 있는 값 ) + res[2+t[2]] (2일꺼일을 다 끝마치고 다음에 할 수 있는 날짜의 값)

   이 두개를 비교해서 큰 값을 찾아줘서 계속 진행한 다음

   res의 첫번째 값 꺼내기